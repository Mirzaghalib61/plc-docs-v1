{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///C:/Sunil/PLC%20User%20Guide%20App/plc-docs-poc/lib/supabase.ts"],"sourcesContent":["import { createBrowserClient } from '@supabase/ssr'\n\nexport const supabase = createBrowserClient(\n  process.env.NEXT_PUBLIC_SUPABASE_URL!,\n  process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\n)"],"names":[],"mappings":";;;;AAAA;AAAA;;AAEO,MAAM,WAAW,IAAA,iMAAmB"}},
    {"offset": {"line": 40, "column": 0}, "map": {"version":3,"sources":["file:///C:/Sunil/PLC%20User%20Guide%20App/plc-docs-poc/components/VoiceRecorder.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useState, useRef, useEffect } from 'react'\r\n\r\ninterface VoiceRecorderProps {\r\n  onTranscriptUpdate: (text: string) => void\r\n  interviewId: string\r\n  onRecordingComplete?: (fullTranscript: string) => void\r\n}\r\n\r\nexport default function VoiceRecorder({ onTranscriptUpdate, interviewId, onRecordingComplete }: VoiceRecorderProps) {\r\n  const [isRecording, setIsRecording] = useState(false)\r\n  const [transcript, setTranscript] = useState<string[]>([])\r\n  const [error, setError] = useState('')\r\n  const [permissionDenied, setPermissionDenied] = useState(false)\r\n  \r\n  const mediaRecorderRef = useRef<MediaRecorder | null>(null)\r\n  const streamRef = useRef<MediaStream | null>(null)\r\n  const audioContextRef = useRef<AudioContext | null>(null)\r\n  const isRecordingRef = useRef(false)\r\n  const processorRef = useRef<ScriptProcessorNode | null>(null)\r\n  const audioChunksRef = useRef<Float32Array[]>([])\r\n  const lastProcessTimeRef = useRef<number>(0)\r\n  const fullTranscriptRef = useRef<string>('')\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      stopRecording()\r\n    }\r\n  }, [])\r\n\r\n  const startRecording = async () => {\r\n    try {\r\n      setError('')\r\n      setPermissionDenied(false)\r\n      fullTranscriptRef.current = '' // Reset transcript on new recording\r\n\r\n      const stream = await navigator.mediaDevices.getUserMedia({ audio: true })\r\n      streamRef.current = stream\r\n\r\n      // Create AudioContext for raw audio processing\r\n      const audioContext = new AudioContext({ sampleRate: 16000 })\r\n      audioContextRef.current = audioContext\r\n      \r\n      const source = audioContext.createMediaStreamSource(stream)\r\n      const processor = audioContext.createScriptProcessor(4096, 1, 1)\r\n      processorRef.current = processor\r\n      \r\n      audioChunksRef.current = []\r\n      lastProcessTimeRef.current = Date.now()\r\n      isRecordingRef.current = true\r\n\r\n      processor.onaudioprocess = (e) => {\r\n        if (!isRecordingRef.current) return\r\n        \r\n        const inputData = e.inputBuffer.getChannelData(0)\r\n        const audioData = new Float32Array(inputData)\r\n        audioChunksRef.current.push(audioData)\r\n\r\n        // Process every 3 seconds\r\n        const now = Date.now()\r\n        if (now - lastProcessTimeRef.current >= 3000) {\r\n          processAudioChunks()\r\n          lastProcessTimeRef.current = now\r\n        }\r\n      }\r\n\r\n      source.connect(processor)\r\n      processor.connect(audioContext.destination)\r\n\r\n      setIsRecording(true)\r\n      console.log('Recording started with AudioContext')\r\n\r\n    } catch (err: any) {\r\n      console.error('Error starting recording:', err)\r\n      \r\n      if (err.name === 'NotAllowedError' || err.name === 'PermissionDeniedError') {\r\n        setPermissionDenied(true)\r\n        setError('Microphone permission denied. Please allow access in your browser settings.')\r\n      } else if (err.name === 'NotFoundError') {\r\n        setError('No microphone found. Please connect a microphone and try again.')\r\n      } else {\r\n        setError('Failed to start recording. Please try again.')\r\n      }\r\n    }\r\n  }\r\n\r\n  const stopRecording = () => {\r\n    isRecordingRef.current = false\r\n    \r\n    if (processorRef.current) {\r\n      processorRef.current.disconnect()\r\n      processorRef.current = null\r\n    }\r\n    \r\n    if (audioContextRef.current) {\r\n      audioContextRef.current.close()\r\n      audioContextRef.current = null\r\n    }\r\n    \r\n    if (streamRef.current) {\r\n      streamRef.current.getTracks().forEach(track => track.stop())\r\n      streamRef.current = null\r\n    }\r\n    \r\n    // Send complete transcript when recording stops\r\n    if (onRecordingComplete && fullTranscriptRef.current.trim()) {\r\n      console.log('Sending complete transcript:', fullTranscriptRef.current)\r\n      onRecordingComplete(fullTranscriptRef.current)\r\n      fullTranscriptRef.current = '' // Reset after sending\r\n    }\r\n    \r\n    setIsRecording(false)\r\n    setTranscript([]) // Clear display transcript\r\n    console.log('Recording stopped')\r\n  }\r\n\r\n  const processAudioChunks = async () => {\r\n    if (audioChunksRef.current.length === 0) return\r\n\r\n    try {\r\n      // Combine all chunks\r\n      const totalLength = audioChunksRef.current.reduce((acc, chunk) => acc + chunk.length, 0)\r\n      const combinedAudio = new Float32Array(totalLength)\r\n      \r\n      let offset = 0\r\n      for (const chunk of audioChunksRef.current) {\r\n        combinedAudio.set(chunk, offset)\r\n        offset += chunk.length\r\n      }\r\n\r\n      // Convert Float32Array to WAV\r\n      const wavBlob = floatTo16BitPCM(combinedAudio)\r\n      \r\n      console.log('Processing audio chunk, size:', wavBlob.size)\r\n      \r\n      // Clear chunks for next interval\r\n      audioChunksRef.current = []\r\n      \r\n      await transcribeAudio(wavBlob)\r\n\r\n    } catch (err) {\r\n      console.error('Error processing audio chunks:', err)\r\n    }\r\n  }\r\n\r\n  const floatTo16BitPCM = (float32Array: Float32Array): Blob => {\r\n    const buffer = new ArrayBuffer(44 + float32Array.length * 2)\r\n    const view = new DataView(buffer)\r\n\r\n    // WAV header\r\n    const writeString = (offset: number, string: string) => {\r\n      for (let i = 0; i < string.length; i++) {\r\n        view.setUint8(offset + i, string.charCodeAt(i))\r\n      }\r\n    }\r\n\r\n    const sampleRate = 16000\r\n    const numChannels = 1\r\n    const bitsPerSample = 16\r\n\r\n    writeString(0, 'RIFF')\r\n    view.setUint32(4, 36 + float32Array.length * 2, true)\r\n    writeString(8, 'WAVE')\r\n    writeString(12, 'fmt ')\r\n    view.setUint32(16, 16, true)\r\n    view.setUint16(20, 1, true)\r\n    view.setUint16(22, numChannels, true)\r\n    view.setUint32(24, sampleRate, true)\r\n    view.setUint32(28, sampleRate * numChannels * bitsPerSample / 8, true)\r\n    view.setUint16(32, numChannels * bitsPerSample / 8, true)\r\n    view.setUint16(34, bitsPerSample, true)\r\n    writeString(36, 'data')\r\n    view.setUint32(40, float32Array.length * 2, true)\r\n\r\n    // Convert float samples to 16-bit PCM\r\n    let offset = 44\r\n    for (let i = 0; i < float32Array.length; i++) {\r\n      const s = Math.max(-1, Math.min(1, float32Array[i]))\r\n      view.setInt16(offset, s < 0 ? s * 0x8000 : s * 0x7FFF, true)\r\n      offset += 2\r\n    }\r\n\r\n    return new Blob([buffer], { type: 'audio/wav' })\r\n  }\r\n\r\n  const transcribeAudio = async (audioBlob: Blob) => {\r\n    try {\r\n      console.log('Transcribing audio chunk, size:', audioBlob.size, 'type:', audioBlob.type)\r\n      \r\n      const formData = new FormData()\r\n      formData.append('audio', audioBlob, 'audio.wav')\r\n      formData.append('interviewId', interviewId)\r\n\r\n      const response = await fetch('/api/voice/transcribe', {\r\n        method: 'POST',\r\n        body: formData,\r\n      })\r\n\r\n      const data = await response.json()\r\n      \r\n      if (!response.ok) {\r\n        console.error('Transcription failed:', {\r\n          status: response.status,\r\n          statusText: response.statusText,\r\n          error: data\r\n        })\r\n        \r\n        setError(`Transcription error: ${data.details || data.error || 'Unknown error'}`)\r\n        return\r\n      }\r\n\r\n      console.log('Transcription result:', data)\r\n      \r\n      if (data.text && data.text.trim()) {\r\n        // Filter spurious phrases\r\n        const spuriousPhrases = [\r\n          'thank you',\r\n          'thank you for watching',\r\n          'thanks for watching',\r\n          'please subscribe',\r\n          'like and subscribe',\r\n          'see you next time',\r\n          'bye bye',\r\n          'thank you.',\r\n          'thanks.',\r\n        ]\r\n\r\n        const cleanText = data.text.trim().toLowerCase()\r\n        \r\n        if (cleanText.length < 3) return\r\n        if (spuriousPhrases.some(phrase => cleanText === phrase)) {\r\n          console.log('Filtered spurious phrase:', data.text)\r\n          return\r\n        }\r\n\r\n        setTranscript(prev => [...prev, data.text])\r\n        onTranscriptUpdate(data.text)\r\n        \r\n        // Accumulate full transcript\r\n        fullTranscriptRef.current += (fullTranscriptRef.current ? ' ' : '') + data.text.trim()\r\n      }\r\n\r\n    } catch (err: any) {\r\n      console.error('Transcription error:', err)\r\n      setError(`Network error: ${err.message}`)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"border rounded-lg p-6 bg-white shadow\">\r\n      <div className=\"flex items-center justify-between mb-4\">\r\n        <h3 className=\"text-lg font-semibold\">Voice Recording</h3>\r\n        \r\n        {isRecording && (\r\n          <div className=\"flex items-center gap-2\">\r\n            <div className=\"w-3 h-3 bg-red-600 rounded-full animate-pulse\" />\r\n            <span className=\"text-sm text-red-600 font-medium\">Recording</span>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {error && (\r\n        <div className=\"mb-4 p-3 bg-red-100 text-red-700 rounded text-sm\">\r\n          {error}\r\n          {permissionDenied && (\r\n            <div className=\"mt-2 text-xs\">\r\n              <p>To fix this:</p>\r\n              <ul className=\"list-disc ml-5 mt-1\">\r\n                <li>Click the camera/microphone icon in your browser's address bar</li>\r\n                <li>Allow microphone access for this site</li>\r\n                <li>Refresh the page and try again</li>\r\n              </ul>\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"flex gap-3 mb-4\">\r\n        {!isRecording ? (\r\n          <button\r\n            onClick={startRecording}\r\n            className=\"flex-1 bg-blue-600 text-white py-3 px-6 rounded-lg hover:bg-blue-700 font-medium\"\r\n          >\r\n            üé§ Start Recording\r\n          </button>\r\n        ) : (\r\n          <button\r\n            onClick={stopRecording}\r\n            className=\"flex-1 bg-red-600 text-white py-3 px-6 rounded-lg hover:bg-red-700 font-medium\"\r\n          >\r\n            ‚èπÔ∏è Stop & Submit\r\n          </button>\r\n        )}\r\n      </div>\r\n\r\n      <div className=\"border-t pt-4\">\r\n        <h4 className=\"text-sm font-medium text-gray-700 mb-2\">Live Transcript</h4>\r\n        <div className=\"bg-gray-50 rounded p-4 min-h-[200px] max-h-[400px] overflow-y-auto\">\r\n          {transcript.length === 0 ? (\r\n            <p className=\"text-gray-400 text-sm italic\">\r\n              Transcript will appear here as you speak...\r\n            </p>\r\n          ) : (\r\n            <div className=\"space-y-2\">\r\n              {transcript.map((text, index) => (\r\n                <p key={index} className=\"text-gray-800 text-sm\">\r\n                  {text}\r\n                </p>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 432, "column": 0}, "map": {"version":3,"sources":["file:///C:/Sunil/PLC%20User%20Guide%20App/plc-docs-poc/app/interview/%5Bid%5D/page.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useEffect, useState, useRef } from 'react'\r\nimport { supabase } from '@/lib/supabase'\r\nimport { useParams, useRouter } from 'next/navigation'\r\nimport Link from 'next/link'\r\nimport VoiceRecorder from '@/components/VoiceRecorder'\r\n\r\ninterface Interview {\r\n  id: string\r\n  sme_name: string\r\n  sme_title: string\r\n  equipment_name: string\r\n  equipment_location: string\r\n  current_phase: number\r\n  status: string\r\n  conversation_history: any[]\r\n  created_at: string\r\n  updated_at: string\r\n}\r\n\r\nexport default function InterviewPage() {\r\n  const [interview, setInterview] = useState<Interview | null>(null)\r\n  const [loading, setLoading] = useState(true)\r\n  const [error, setError] = useState('')\r\n  const [aiThinking, setAiThinking] = useState(false)\r\n  const [currentAiQuestion, setCurrentAiQuestion] = useState('')\r\n  const [showHistory, setShowHistory] = useState(false)\r\n  const [userId, setUserId] = useState<string | null>(null)\r\n  const [documentGenerating, setDocumentGenerating] = useState(false)\r\n  const [isPlaying, setIsPlaying] = useState(false)\r\n  const [audioLoading, setAudioLoading] = useState(false)\r\n  const params = useParams()\r\n  const router = useRouter()\r\n  const voiceRecorderKeyRef = useRef(0)\r\n  const hasInitializedRef = useRef(false)\r\n  const audioRef = useRef<HTMLAudioElement | null>(null)\r\n\r\n  useEffect(() => {\r\n    initializeInterview()\r\n  }, [params.id])\r\n\r\n  const initializeInterview = async () => {\r\n    try {\r\n      const { data: { user } } = await supabase.auth.getUser()\r\n      \r\n      if (!user) {\r\n        router.push('/login')\r\n        return\r\n      }\r\n\r\n      setUserId(user.id)\r\n\r\n      const { data, error } = await supabase\r\n        .from('interviews')\r\n        .select('*')\r\n        .eq('id', params.id)\r\n        .single()\r\n\r\n      if (error) {\r\n        console.error('Fetch error:', error)\r\n        setError('We couldn\\'t find this interview. It may have been deleted.')\r\n        setLoading(false)\r\n        return\r\n      }\r\n\r\n      setInterview(data)\r\n      setLoading(false)\r\n\r\n      if (!hasInitializedRef.current && (!data.conversation_history || data.conversation_history.length === 0)) {\r\n        hasInitializedRef.current = true\r\n        await getFirstQuestion(user.id, data.id)\r\n      } else if (data.conversation_history && data.conversation_history.length > 0) {\r\n        const lastAiEntry = [...data.conversation_history]\r\n          .reverse()\r\n          .find((entry: any) => entry.speaker === 'AI')\r\n        \r\n        if (lastAiEntry) {\r\n          setCurrentAiQuestion(lastAiEntry.text)\r\n        }\r\n      }\r\n\r\n    } catch (err) {\r\n      console.error('Error:', err)\r\n      setError('Something went wrong loading the interview. Please try refreshing the page.')\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  const getFirstQuestion = async (uid: string, interviewId: string) => {\r\n    try {\r\n      setAiThinking(true)\r\n      \r\n      const response = await fetch('/api/interview/respond', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          interviewId: interviewId,\r\n          smeResponse: '',\r\n          userId: uid\r\n        })\r\n      })\r\n\r\n      const data = await response.json()\r\n\r\n      if (!response.ok) {\r\n        throw new Error(data.error || 'Failed to start interview')\r\n      }\r\n\r\n      setCurrentAiQuestion(data.aiResponse)\r\n      \r\n      const { data: updatedInterview } = await supabase\r\n        .from('interviews')\r\n        .select('*')\r\n        .eq('id', interviewId)\r\n        .single()\r\n\r\n      if (updatedInterview) {\r\n        setInterview(updatedInterview)\r\n      }\r\n\r\n    } catch (err: any) {\r\n      console.error('Error getting first question:', err)\r\n      setError('We couldn\\'t start the interview. Please try again.')\r\n    } finally {\r\n      setAiThinking(false)\r\n    }\r\n  }\r\n\r\n  const handleTranscriptComplete = async (fullTranscript: string) => {\r\n    if (!interview || !userId || !fullTranscript.trim()) return\r\n\r\n    try {\r\n      setAiThinking(true)\r\n      setError('')\r\n\r\n      const response = await fetch('/api/interview/respond', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          interviewId: interview.id,\r\n          smeResponse: fullTranscript,\r\n          userId: userId\r\n        })\r\n      })\r\n\r\n      const data = await response.json()\r\n\r\n      if (!response.ok) {\r\n        throw new Error(data.error || 'Failed to process response')\r\n      }\r\n\r\n      setCurrentAiQuestion(data.aiResponse)\r\n\r\n      const { data: updatedInterview } = await supabase\r\n        .from('interviews')\r\n        .select('*')\r\n        .eq('id', interview.id)\r\n        .single()\r\n\r\n      if (updatedInterview) {\r\n        setInterview(updatedInterview)\r\n        \r\n        if (data.isComplete) {\r\n          setInterview({ ...updatedInterview, status: 'completed' })\r\n        }\r\n      }\r\n\r\n    } catch (err: any) {\r\n      console.error('Error processing transcript:', err)\r\n      setError('We couldn\\'t process your response. Please try recording again.')\r\n    } finally {\r\n      setAiThinking(false)\r\n    }\r\n  }\r\n\r\n  const handleSkipSection = async () => {\r\n    if (!interview || !userId) return\r\n\r\n    const confirmed = window.confirm(\r\n      'Skip this section?\\n\\n' +\r\n      'The AI will move to the next topic. This section will be marked as \"not covered\" in the final document.'\r\n    )\r\n\r\n    if (!confirmed) return\r\n\r\n    try {\r\n      setAiThinking(true)\r\n      setError('')\r\n\r\n      const response = await fetch('/api/interview/respond', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          interviewId: interview.id,\r\n          smeResponse: \"I don't have information about this section. Please skip to the next topic.\",\r\n          userId: userId\r\n        })\r\n      })\r\n\r\n      const data = await response.json()\r\n\r\n      if (!response.ok) {\r\n        throw new Error(data.error || 'Failed to skip section')\r\n      }\r\n\r\n      setCurrentAiQuestion(data.aiResponse)\r\n\r\n      const { data: updatedInterview } = await supabase\r\n        .from('interviews')\r\n        .select('*')\r\n        .eq('id', interview.id)\r\n        .single()\r\n\r\n      if (updatedInterview) {\r\n        setInterview(updatedInterview)\r\n        \r\n        if (data.isComplete) {\r\n          setInterview({ ...updatedInterview, status: 'completed' })\r\n        }\r\n      }\r\n\r\n    } catch (err: any) {\r\n      console.error('Error skipping section:', err)\r\n      setError('Could not skip section. Please try again.')\r\n    } finally {\r\n      setAiThinking(false)\r\n    }\r\n  }\r\n\r\n  const handlePause = async () => {\r\n    if (!interview) return\r\n\r\n    try {\r\n      const { error } = await supabase\r\n        .from('interviews')\r\n        .update({ \r\n          status: 'paused',\r\n          updated_at: new Date().toISOString()\r\n        })\r\n        .eq('id', interview.id)\r\n\r\n      if (error) {\r\n        console.error('Error pausing interview:', error)\r\n        setError('Could not pause the interview. Please try again.')\r\n      } else {\r\n        voiceRecorderKeyRef.current += 1\r\n        setInterview({ ...interview, status: 'paused' })\r\n      }\r\n    } catch (err) {\r\n      console.error('Error:', err)\r\n      setError('Could not pause the interview. Please try again.')\r\n    }\r\n  }\r\n\r\n  const handleResume = async () => {\r\n    if (!interview) return\r\n\r\n    try {\r\n      const { error } = await supabase\r\n        .from('interviews')\r\n        .update({ \r\n          status: 'in_progress',\r\n          updated_at: new Date().toISOString()\r\n        })\r\n        .eq('id', interview.id)\r\n\r\n      if (error) {\r\n        console.error('Error resuming interview:', error)\r\n        setError('Could not resume the interview. Please try again.')\r\n      } else {\r\n        voiceRecorderKeyRef.current += 1\r\n        setInterview({ ...interview, status: 'in_progress' })\r\n        setError('')\r\n      }\r\n    } catch (err) {\r\n      console.error('Error:', err)\r\n      setError('Could not resume the interview. Please try again.')\r\n    }\r\n  }\r\n\r\n  const handleTerminate = async () => {\r\n    if (!interview) return\r\n\r\n    const confirmed = window.confirm(\r\n      'Are you sure you want to end this interview early?\\n\\n' +\r\n      'The AI hasn\\'t finished gathering all the information yet. You can always pause and come back later instead.\\n\\n' +\r\n      'End interview now?'\r\n    )\r\n\r\n    if (!confirmed) return\r\n\r\n    try {\r\n      const terminationEntry = {\r\n        timestamp: new Date().toISOString(),\r\n        text: '[INTERVIEW ENDED EARLY]\\n\\nThis interview was ended before the AI finished gathering all critical equipment information.',\r\n        phase: interview.current_phase,\r\n        speaker: 'SYSTEM'\r\n      }\r\n\r\n      const updatedHistory = [...(interview.conversation_history || []), terminationEntry]\r\n\r\n      const { error } = await supabase\r\n        .from('interviews')\r\n        .update({ \r\n          status: 'terminated',\r\n          conversation_history: updatedHistory,\r\n          updated_at: new Date().toISOString()\r\n        })\r\n        .eq('id', interview.id)\r\n\r\n      if (error) {\r\n        console.error('Error terminating interview:', error)\r\n        setError('Could not end the interview. Please try again.')\r\n      } else {\r\n        voiceRecorderKeyRef.current += 1\r\n        setInterview({ \r\n          ...interview, \r\n          status: 'terminated',\r\n          conversation_history: updatedHistory\r\n        })\r\n      }\r\n    } catch (err) {\r\n      console.error('Error:', err)\r\n      setError('Could not end the interview. Please try again.')\r\n    }\r\n  }\r\n\r\n  const handleGenerateDocument = async () => {\r\n    if (!interview) return\r\n\r\n    try {\r\n      setDocumentGenerating(true)\r\n      \r\n      // Small delay to ensure UI updates\r\n      await new Promise(resolve => setTimeout(resolve, 100))\r\n      \r\n      const downloadUrl = `/api/interview/${interview.id}/generate`\r\n      window.open(downloadUrl, '_blank')\r\n      \r\n      // Keep showing the loading state for a bit longer\r\n      setTimeout(() => {\r\n        setDocumentGenerating(false)\r\n      }, 5000) // 5 seconds\r\n    } catch (err) {\r\n      console.error('Error generating document:', err)\r\n      setError('Could not generate the document. Please try again.')\r\n      setDocumentGenerating(false)\r\n    }\r\n  }\r\n\r\n  const handlePlayQuestion = async () => {\r\n    if (!currentAiQuestion) return\r\n\r\n    try {\r\n      setAudioLoading(true)\r\n      \r\n      const response = await fetch('/api/interview/speak', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ text: currentAiQuestion })\r\n      })\r\n\r\n      if (!response.ok) {\r\n        throw new Error('Failed to generate speech')\r\n      }\r\n\r\n      const audioBlob = await response.blob()\r\n      const audioUrl = URL.createObjectURL(audioBlob)\r\n      \r\n      if (audioRef.current) {\r\n        audioRef.current.pause()\r\n      }\r\n      \r\n      const audio = new Audio(audioUrl)\r\n      audioRef.current = audio\r\n      \r\n      audio.onplay = () => setIsPlaying(true)\r\n      audio.onended = () => {\r\n        setIsPlaying(false)\r\n        URL.revokeObjectURL(audioUrl)\r\n      }\r\n      audio.onerror = () => {\r\n        setIsPlaying(false)\r\n        setError('Could not play audio. Please try again.')\r\n      }\r\n      \r\n      await audio.play()\r\n      setAudioLoading(false)\r\n      \r\n    } catch (err) {\r\n      console.error('TTS error:', err)\r\n      setError('Could not play the question. Please read it instead.')\r\n      setAudioLoading(false)\r\n    }\r\n  }\r\n\r\n  const handleStopAudio = () => {\r\n    if (audioRef.current) {\r\n      audioRef.current.pause()\r\n      audioRef.current.currentTime = 0\r\n      setIsPlaying(false)\r\n    }\r\n  }\r\n\r\n  const retryInitialize = () => {\r\n    setError('')\r\n    setLoading(true)\r\n    initializeInterview()\r\n  }\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100\">\r\n        <div className=\"text-center\">\r\n          <div className=\"relative\">\r\n            <div className=\"animate-spin rounded-full h-16 w-16 border-4 border-blue-200 border-t-blue-600 mx-auto mb-4\"></div>\r\n            <div className=\"absolute inset-0 flex items-center justify-center\">\r\n              <div className=\"h-8 w-8 bg-blue-600 rounded-full opacity-20 animate-ping\"></div>\r\n            </div>\r\n          </div>\r\n          <p className=\"text-lg font-medium text-gray-700\">Loading your interview...</p>\r\n          <p className=\"text-sm text-gray-500 mt-1\">This will just take a moment</p>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  if (error && !interview) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 p-6\">\r\n        <div className=\"max-w-md w-full bg-white rounded-xl shadow-lg p-8 text-center\">\r\n          <div className=\"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4\">\r\n            <svg className=\"w-8 h-8 text-red-600\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\" />\r\n            </svg>\r\n          </div>\r\n          <h2 className=\"text-xl font-bold text-gray-900 mb-2\">Oops! Something went wrong</h2>\r\n          <p className=\"text-gray-600 mb-6\">{error}</p>\r\n          <div className=\"space-y-3\">\r\n            <button\r\n              onClick={retryInitialize}\r\n              className=\"w-full bg-blue-600 text-white py-3 px-6 rounded-lg hover:bg-blue-700 font-medium transition-colors\"\r\n            >\r\n              Try Again\r\n            </button>\r\n            <Link\r\n              href=\"/dashboard\"\r\n              className=\"block w-full bg-gray-100 text-gray-700 py-3 px-6 rounded-lg hover:bg-gray-200 font-medium transition-colors\"\r\n            >\r\n              Back to Dashboard\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  const isCompleted = interview?.status === 'completed'\r\n  const isPaused = interview?.status === 'paused'\r\n  const isInProgress = interview?.status === 'in_progress'\r\n  const isTerminated = interview?.status === 'terminated'\r\n\r\n  const conversationEntries = interview?.conversation_history || []\r\n  const smeEntries = conversationEntries.filter((e: any) => e.speaker === 'SME')\r\n  const aiEntries = conversationEntries.filter((e: any) => e.speaker === 'AI')\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50\">\r\n      <div className=\"max-w-7xl mx-auto p-4 sm:p-6 lg:p-8\">\r\n        {/* Header */}\r\n        <div className=\"bg-white rounded-xl shadow-sm border border-gray-100 p-6 mb-6\">\r\n          <div className=\"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-4\">\r\n            <div>\r\n              <h1 className=\"text-2xl sm:text-3xl font-bold text-gray-900 mb-2\">AI Interview Session</h1>\r\n              <div className=\"flex flex-wrap items-center gap-3\">\r\n                <span className={`px-3 py-1 rounded-full text-xs font-semibold ${\r\n                  isCompleted ? 'bg-green-100 text-green-800' :\r\n                  isTerminated ? 'bg-red-100 text-red-800' :\r\n                  isPaused ? 'bg-yellow-100 text-yellow-800' :\r\n                  'bg-blue-100 text-blue-800'\r\n                }`}>\r\n                  {interview?.status === 'in_progress' ? '‚óè In Progress' : \r\n                   interview?.status === 'paused' ? '‚è∏ Paused' : \r\n                   interview?.status === 'terminated' ? '‚ö† Ended Early' :\r\n                   '‚úì Complete'}\r\n                </span>\r\n                <span className=\"text-gray-500 text-sm\">\r\n                  Phase {interview?.current_phase} - Critical Equipment Info\r\n                </span>\r\n              </div>\r\n            </div>\r\n            <Link \r\n              href=\"/dashboard\"\r\n              className=\"text-blue-600 hover:text-blue-700 font-medium text-sm hover:underline\"\r\n            >\r\n              ‚Üê Back to Dashboard\r\n            </Link>\r\n          </div>\r\n\r\n          {/* Metadata Grid */}\r\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4 pt-4 border-t border-gray-100\">\r\n            <div className=\"bg-blue-50 rounded-lg p-4\">\r\n              <p className=\"text-xs text-blue-600 font-medium mb-1\">Subject Matter Expert</p>\r\n              <p className=\"font-semibold text-gray-900\">{interview?.sme_name}</p>\r\n              <p className=\"text-sm text-gray-600\">{interview?.sme_title}</p>\r\n            </div>\r\n            <div className=\"bg-indigo-50 rounded-lg p-4\">\r\n              <p className=\"text-xs text-indigo-600 font-medium mb-1\">Equipment</p>\r\n              <p className=\"font-semibold text-gray-900\">{interview?.equipment_name}</p>\r\n              <p className=\"text-sm text-gray-600\">{interview?.equipment_location}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Error Banner */}\r\n        {error && (\r\n          <div className=\"mb-6 bg-red-50 border-l-4 border-red-500 rounded-lg p-4 shadow-sm\">\r\n            <div className=\"flex items-start\">\r\n              <svg className=\"w-5 h-5 text-red-500 mt-0.5 mr-3 flex-shrink-0\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n              </svg>\r\n              <div className=\"flex-1\">\r\n                <p className=\"text-red-800 font-medium\">{error}</p>\r\n                <button\r\n                  onClick={() => setError('')}\r\n                  className=\"text-red-600 text-sm hover:text-red-700 mt-1 font-medium\"\r\n                >\r\n                  Dismiss\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Main Content Grid */}\r\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\r\n          {/* Left Column - Main Interview Area */}\r\n          <div className=\"lg:col-span-2 space-y-6\">\r\n            \r\n            {/* Terminated State */}\r\n            {isTerminated && (\r\n              <div className=\"bg-gradient-to-r from-red-50 to-orange-50 border border-red-200 rounded-xl p-6 shadow-sm\">\r\n                <div className=\"flex items-start gap-3 mb-4\">\r\n                  <div className=\"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center flex-shrink-0\">\r\n                    <svg className=\"w-6 h-6 text-red-600\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\" />\r\n                    </svg>\r\n                  </div>\r\n                  <div>\r\n                    <h3 className=\"text-lg font-bold text-gray-900 mb-2\">Interview Ended Early</h3>\r\n                    <p className=\"text-gray-700 text-sm\">\r\n                      This interview was ended before the AI finished gathering all critical information. \r\n                      You can still generate a document with the information collected so far.\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n                <button\r\n                  onClick={handleGenerateDocument}\r\n                  disabled={documentGenerating}\r\n                  className=\"w-full sm:w-auto bg-red-600 text-white px-6 py-3 rounded-lg hover:bg-red-700 font-medium transition-all shadow-sm disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                >\r\n                  {documentGenerating ? (\r\n                    <span className=\"flex items-center justify-center gap-2\">\r\n                      <svg className=\"animate-spin h-5 w-5\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n                        <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\r\n                        <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n                      </svg>\r\n                      Generating...\r\n                    </span>\r\n                  ) : 'üìÑ Generate Partial Documentation'}\r\n                </button>\r\n              </div>\r\n            )}\r\n\r\n            {/* AI Question Display */}\r\n            {currentAiQuestion && !isCompleted && !isTerminated && (\r\n              <div className=\"bg-gradient-to-br from-blue-50 to-blue-100 border-l-4 border-blue-600 rounded-xl p-6 shadow-sm\">\r\n                <div className=\"flex items-start gap-4\">\r\n                  <div className=\"w-12 h-12 bg-blue-600 rounded-full flex items-center justify-center flex-shrink-0 shadow-md\">\r\n                    <span className=\"text-white font-bold text-lg\">AI</span>\r\n                  </div>\r\n                  <div className=\"flex-1\">\r\n                    <div className=\"flex items-center justify-between mb-2\">\r\n                      <h3 className=\"font-semibold text-blue-900 text-sm\">Current Question:</h3>\r\n                      <button\r\n                        onClick={isPlaying ? handleStopAudio : handlePlayQuestion}\r\n                        disabled={audioLoading}\r\n                        className=\"flex items-center gap-2 px-3 py-1.5 bg-white border border-blue-300 rounded-lg hover:bg-blue-50 transition-colors text-sm font-medium text-blue-700 disabled:opacity-50\"\r\n                      >\r\n                        {audioLoading ? (\r\n                          <>\r\n                            <svg className=\"animate-spin h-4 w-4\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n                              <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\r\n                              <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n                            </svg>\r\n                            Loading...\r\n                          </>\r\n                        ) : isPlaying ? (\r\n                          <>\r\n                            <svg className=\"w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n                              <path fillRule=\"evenodd\" d=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zM7 8a1 1 0 012 0v4a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v4a1 1 0 102 0V8a1 1 0 00-1-1z\" clipRule=\"evenodd\" />\r\n                            </svg>\r\n                            Stop\r\n                          </>\r\n                        ) : (\r\n                          <>\r\n                            <svg className=\"w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n                              <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z\" clipRule=\"evenodd\" />\r\n                            </svg>\r\n                            Play Question\r\n                          </>\r\n                        )}\r\n                      </button>\r\n                    </div>\r\n                    <p className=\"text-gray-800 text-base leading-relaxed whitespace-pre-wrap\">\r\n                      {currentAiQuestion}\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* AI Thinking State */}\r\n            {aiThinking && (\r\n              <div className=\"bg-gradient-to-r from-purple-50 to-pink-50 border border-purple-200 rounded-xl p-6 shadow-sm\">\r\n                <div className=\"flex items-center gap-4\">\r\n                  <div className=\"relative\">\r\n                    <div className=\"animate-spin rounded-full h-10 w-10 border-4 border-purple-200 border-t-purple-600\"></div>\r\n                    <div className=\"absolute inset-0 flex items-center justify-center\">\r\n                      <div className=\"h-6 w-6 bg-purple-600 rounded-full opacity-20 animate-ping\"></div>\r\n                    </div>\r\n                  </div>\r\n                  <div>\r\n                    <p className=\"text-purple-900 font-semibold\">AI is analyzing your response...</p>\r\n                    <p className=\"text-purple-700 text-sm\">This usually takes just a few seconds</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Completed State */}\r\n            {isCompleted && (\r\n              <div className=\"bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-xl p-6 shadow-sm\">\r\n                <div className=\"flex items-start gap-3 mb-4\">\r\n                  <div className=\"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center flex-shrink-0\">\r\n                    <svg className=\"w-6 h-6 text-green-600\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n                    </svg>\r\n                  </div>\r\n                  <div>\r\n                    <h3 className=\"text-lg font-bold text-gray-900 mb-2\">Interview Complete! üéâ</h3>\r\n                    <p className=\"text-gray-700 text-sm mb-3\">{currentAiQuestion}</p>\r\n                  </div>\r\n                </div>\r\n                <button\r\n                  onClick={handleGenerateDocument}\r\n                  disabled={documentGenerating}\r\n                  className=\"w-full sm:w-auto bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 font-medium transition-all shadow-sm disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                >\r\n                  {documentGenerating ? (\r\n                    <span className=\"flex items-center justify-center gap-2\">\r\n                      <svg className=\"animate-spin h-5 w-5\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n                        <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\r\n                        <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n                      </svg>\r\n                      Generating Document...\r\n                    </span>\r\n                  ) : 'üìÑ Generate Final Documentation'}\r\n                </button>\r\n              </div>\r\n            )}\r\n\r\n            {/* Voice Recorder with Instructions */}\r\n            {!isCompleted && !isTerminated && isInProgress && !aiThinking ? (\r\n              <>\r\n                <div className=\"bg-white rounded-xl shadow-sm border border-gray-100\">\r\n                  {/* Helpful Instructions */}\r\n                  <div className=\"bg-gradient-to-r from-blue-50 to-indigo-50 border-b border-blue-100 p-4 rounded-t-xl\">\r\n                    <h4 className=\"font-semibold text-gray-900 mb-2 flex items-center gap-2\">\r\n                      <svg className=\"w-5 h-5 text-blue-600\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n                      </svg>\r\n                      How it works\r\n                    </h4>\r\n                    <ul className=\"text-sm text-gray-700 space-y-1\">\r\n                      <li className=\"flex items-start gap-2\">\r\n                        <span className=\"text-blue-600 font-bold\">1.</span>\r\n                        <span>Click \"Start Recording\" and speak naturally - just like having a conversation</span>\r\n                      </li>\r\n                      <li className=\"flex items-start gap-2\">\r\n                        <span className=\"text-blue-600 font-bold\">2.</span>\r\n                        <span>Click \"Stop & Submit\" when you're done answering</span>\r\n                      </li>\r\n                      <li className=\"flex items-start gap-2\">\r\n                        <span className=\"text-blue-600 font-bold\">3.</span>\r\n                        <span>The AI will ask follow-up questions to get more details</span>\r\n                      </li>\r\n                      <li className=\"flex items-start gap-2\">\r\n                        <span className=\"text-blue-600 font-bold\">4.</span>\r\n                        <span className=\"font-semibold text-blue-700\">Don't know the answer? Click \"Skip This Section\" below</span>\r\n                      </li>\r\n                    </ul>\r\n                  </div>\r\n                  \r\n                  <VoiceRecorder \r\n                    key={voiceRecorderKeyRef.current}\r\n                    interviewId={interview?.id || ''}\r\n                    onTranscriptUpdate={() => {}}\r\n                    onRecordingComplete={handleTranscriptComplete}\r\n                  />\r\n                </div>\r\n                \r\n                {/* Skip Section Button */}\r\n                <div className=\"bg-yellow-50 border border-yellow-200 rounded-lg p-4\">\r\n                  <div className=\"flex items-center justify-between\">\r\n                    <div className=\"flex-1\">\r\n                      <p className=\"text-sm font-semibold text-gray-900 mb-1\">Don't know the answer to this question?</p>\r\n                      <p className=\"text-xs text-gray-600\">It's okay to skip sections. The document will note what wasn't covered.</p>\r\n                    </div>\r\n                    <button\r\n                      onClick={handleSkipSection}\r\n                      className=\"ml-4 px-4 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 font-medium text-sm transition-colors whitespace-nowrap\"\r\n                    >\r\n                      Skip This Section ‚Üí\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </>\r\n            ) : isPaused ? (\r\n              <div className=\"bg-white rounded-xl shadow-sm border border-gray-100 p-8 text-center\">\r\n                <div className=\"w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-4\">\r\n                  <svg className=\"w-8 h-8 text-yellow-600\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n                  </svg>\r\n                </div>\r\n                <h3 className=\"text-xl font-bold text-gray-900 mb-2\">Interview Paused</h3>\r\n                <p className=\"text-gray-600 mb-1\">Your progress has been saved automatically.</p>\r\n                <p className=\"text-sm text-gray-500\">Click \"Resume Interview\" below when you're ready to continue.</p>\r\n              </div>\r\n            ) : (isCompleted || isTerminated) ? null : (\r\n              <div className=\"bg-white rounded-xl shadow-sm border border-gray-100 p-8 text-center\">\r\n                <div className=\"animate-pulse\">\r\n                  <div className=\"w-16 h-16 bg-gray-200 rounded-full mx-auto mb-4\"></div>\r\n                  <div className=\"h-4 bg-gray-200 rounded w-3/4 mx-auto\"></div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Control Buttons */}\r\n            {!isCompleted && !isTerminated && (\r\n              <div className=\"flex flex-col sm:flex-row gap-3\">\r\n                {isInProgress && !aiThinking ? (\r\n                  <>\r\n                    <button\r\n                      onClick={handlePause}\r\n                      className=\"flex-1 bg-yellow-500 text-white py-3 px-6 rounded-lg hover:bg-yellow-600 font-medium transition-all shadow-sm\"\r\n                    >\r\n                      ‚è∏ Pause & Save Progress\r\n                    </button>\r\n                    <button\r\n                      onClick={handleTerminate}\r\n                      className=\"flex-1 bg-gray-600 text-white py-3 px-6 rounded-lg hover:bg-gray-700 font-medium transition-all shadow-sm\"\r\n                    >\r\n                      End Interview Early\r\n                    </button>\r\n                  </>\r\n                ) : isPaused ? (\r\n                  <>\r\n                    <button\r\n                      onClick={handleResume}\r\n                      className=\"flex-1 bg-green-600 text-white py-3 px-6 rounded-lg hover:bg-green-700 font-medium transition-all shadow-sm\"\r\n                    >\r\n                      ‚ñ∂ Resume Interview\r\n                    </button>\r\n                    <button\r\n                      onClick={handleTerminate}\r\n                      className=\"flex-1 bg-gray-600 text-white py-3 px-6 rounded-lg hover:bg-gray-700 font-medium transition-all shadow-sm\"\r\n                    >\r\n                      End Interview Early\r\n                    </button>\r\n                  </>\r\n                ) : null}\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Right Column - Progress Sidebar */}\r\n          <div className=\"lg:col-span-1\">\r\n            <div className=\"bg-white rounded-xl shadow-sm border border-gray-100 p-6 sticky top-6\">\r\n              <div className=\"flex items-center justify-between mb-4\">\r\n                <h3 className=\"text-lg font-bold text-gray-900\">Progress</h3>\r\n                <button\r\n                  onClick={() => setShowHistory(!showHistory)}\r\n                  className=\"text-sm text-blue-600 hover:text-blue-700 font-medium\"\r\n                >\r\n                  {showHistory ? 'Hide' : 'Show'} Details\r\n                </button>\r\n              </div>\r\n\r\n              {/* Stats Grid */}\r\n              <div className=\"grid grid-cols-2 gap-3 mb-4 pb-4 border-b border-gray-100\">\r\n                <div className=\"bg-blue-50 rounded-lg p-3 text-center\">\r\n                  <p className=\"text-2xl font-bold text-blue-600\">{aiEntries.length}</p>\r\n                  <p className=\"text-xs text-gray-600 mt-1\">Questions</p>\r\n                </div>\r\n                <div className=\"bg-green-50 rounded-lg p-3 text-center\">\r\n                  <p className=\"text-2xl font-bold text-green-600\">{smeEntries.length}</p>\r\n                  <p className=\"text-xs text-gray-600 mt-1\">Responses</p>\r\n                </div>\r\n              </div>\r\n\r\n              {/* History */}\r\n              {showHistory && (\r\n                <div className=\"space-y-3 max-h-[500px] overflow-y-auto\">\r\n                  {conversationEntries.length > 0 ? (\r\n                    conversationEntries.map((entry: any, index: number) => (\r\n                      <div \r\n                        key={index} \r\n                        className={`p-3 rounded-lg text-xs ${\r\n                          entry.speaker === 'AI' \r\n                            ? 'bg-blue-50 border-l-2 border-blue-400' \r\n                            : entry.speaker === 'SYSTEM'\r\n                            ? 'bg-red-50 border-l-2 border-red-400'\r\n                            : 'bg-green-50 border-l-2 border-green-400'\r\n                        }`}\r\n                      >\r\n                        <div className=\"flex items-center justify-between mb-1\">\r\n                          <span className={`text-xs font-semibold ${\r\n                            entry.speaker === 'AI' ? 'text-blue-700' : \r\n                            entry.speaker === 'SYSTEM' ? 'text-red-700' : 'text-green-700'\r\n                          }`}>\r\n                            {entry.speaker === 'AI' ? 'ü§ñ AI' : entry.speaker === 'SYSTEM' ? '‚ö†Ô∏è System' : 'üë§ You'}\r\n                          </span>\r\n                          <span className=\"text-xs text-gray-500\">\r\n                            {new Date(entry.timestamp).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}\r\n                          </span>\r\n                        </div>\r\n                        <p className=\"text-gray-700 leading-relaxed\">\r\n                          {entry.text.length > 120 ? `${entry.text.substring(0, 120)}...` : entry.text}\r\n                        </p>\r\n                      </div>\r\n                    ))\r\n                  ) : (\r\n                    <p className=\"text-gray-400 text-sm italic text-center py-4\">\r\n                      No conversation yet\r\n                    </p>\r\n                  )}\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Document Generation Loading Overlay */}\r\n        {documentGenerating && (\r\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\r\n            <div className=\"bg-white rounded-2xl shadow-2xl p-8 max-w-md mx-4 text-center\">\r\n              <div className=\"relative mb-6\">\r\n                <div className=\"animate-spin rounded-full h-20 w-20 border-4 border-blue-200 border-t-blue-600 mx-auto\"></div>\r\n                <div className=\"absolute inset-0 flex items-center justify-center\">\r\n                  <div className=\"h-12 w-12 bg-blue-600 rounded-full opacity-20 animate-ping\"></div>\r\n                </div>\r\n              </div>\r\n              \r\n              <h3 className=\"text-2xl font-bold text-gray-900 mb-3\">\r\n                Generating Your Documentation\r\n              </h3>\r\n              \r\n              <div className=\"space-y-2 text-left bg-blue-50 rounded-lg p-4 mb-4\">\r\n                <div className=\"flex items-center gap-3\">\r\n                  <div className=\"animate-pulse w-2 h-2 bg-blue-600 rounded-full\"></div>\r\n                  <p className=\"text-sm text-gray-700\">Analyzing interview transcript...</p>\r\n                </div>\r\n                <div className=\"flex items-center gap-3\">\r\n                  <div className=\"animate-pulse w-2 h-2 bg-blue-600 rounded-full\" style={{animationDelay: '0.3s'}}></div>\r\n                  <p className=\"text-sm text-gray-700\">Extracting technical details...</p>\r\n                </div>\r\n                <div className=\"flex items-center gap-3\">\r\n                  <div className=\"animate-pulse w-2 h-2 bg-blue-600 rounded-full\" style={{animationDelay: '0.6s'}}></div>\r\n                  <p className=\"text-sm text-gray-700\">Filling professional template...</p>\r\n                </div>\r\n                <div className=\"flex items-center gap-3\">\r\n                  <div className=\"animate-pulse w-2 h-2 bg-blue-600 rounded-full\" style={{animationDelay: '0.9s'}}></div>\r\n                  <p className=\"text-sm text-gray-700\">Formatting document...</p>\r\n                </div>\r\n              </div>\r\n              \r\n              <p className=\"text-gray-600 text-sm\">\r\n                This usually takes 20-30 seconds. Please be patient while we create your professional operations manual.\r\n              </p>\r\n              \r\n              <div className=\"mt-6 pt-6 border-t border-gray-200\">\r\n                <p className=\"text-xs text-gray-500\">\r\n                  üí° Your download will start automatically when ready\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n        \r\n      </div>\r\n    </div>\r\n  )\r\n}"],"names":[],"mappings":"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"}}]
}